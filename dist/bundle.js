(()=>{"use strict";var e=[];function t(){localStorage.setItem("todos",JSON.stringify(e))}e=function(){var e=localStorage.getItem("todos");try{return e?JSON.parse(e):[]}catch(e){return[]}}();var n=function(){return e},o={searchText:"",hideCompleted:!1},d=function(){return o},r=function(e){"string"==typeof e.searchText&&(o.searchText=e.searchText),"boolean"==typeof e.hideCompleted&&(o.hideCompleted=e.hideCompleted)},c=function(){var e=n(),t=d(),o=e.filter((function(e){return e.text.toLowerCase().includes(t.searchText.toLowerCase())})),r=(o=o.filter((function(e){return!t.hideCompleted||!e.completed}))).filter((function(e){return!e.completed})),c=document.querySelector("#todos");if(c.innerHTML="",c.appendChild(a(r)),o.length>0)o.forEach((function(e){c.appendChild(i(e))}));else{var l=document.createElement("p");l.classList.add("empty-message"),l.textContent="No to-dos to show",c.appendChild(l)}},i=function(n){var o=document.createElement("label"),d=document.createElement("div"),r=document.createElement("input"),i=document.createElement("button"),a=document.createElement("span");return r.setAttribute("type","checkbox"),r.checked=n.completed,d.appendChild(r),r.addEventListener("change",(function(){var o,d;o=n.id,d=e.filter((function(e){return e.id===o}))[0],d.completed=!d.completed,t(),c()})),a.textContent=n.text,d.appendChild(a),o.classList.add("list-item"),d.classList.add("list-item__container"),o.appendChild(d),i.textContent="remove",i.classList.add("button","button--secondary"),o.appendChild(i),i.addEventListener("click",(function(){var o,d;o=n.id,d=e.findIndex((function(e){return e.id===o})),e.splice(d,1),t(),c()})),o},a=function(e){var t=document.createElement("h2");t.classList.add("list-title");var n=1===e.length?"thing":"things";return t.textContent="You have ".concat(e.length," ").concat(n," left to do"),t};c(),d(),document.querySelector("#filter-todos").addEventListener("input",(function(e){r({searchText:e.target.value}),c()})),document.querySelector("#hide-completed").addEventListener("change",(function(e){r({hideCompleted:e.target.checked}),c()})),document.querySelector("#add-todo").addEventListener("submit",(function(n){var o,d;n.preventDefault(),o=n.target.elements.newTodo.value.trim(),d=uuidv4(),o.length>0&&(e.push({id:d,text:o,completed:!1}),t()),n.target.elements.newTodo.value="",c()}))})();
//# sourceMappingURL=bundle.js.map