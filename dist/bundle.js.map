{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://todoapp-w-webpack/./src/todos.js","webpack://todoapp-w-webpack/./src/filters.js","webpack://todoapp-w-webpack/./src/views.js","webpack://todoapp-w-webpack/./src/index.js"],"sourcesContent":["// set up the empty todos array\nlet todos = [];\n\n// get saved todos from local storage\nconst loadTodos = () => {\n   const todosJson = localStorage.getItem(\"todos\");\n   try {\n      return todosJson ? JSON.parse(todosJson) : [];\n   } catch (e) {\n      return [];\n   }\n};\n\ntodos = loadTodos();\n\n\n// save todos to local storage\nfunction saveTodos() {\n   localStorage.setItem(\"todos\", JSON.stringify(todos));\n}\n\n\n// EXPOSE TODOS FROM MODULE\nconst getTodos = () => todos;\n\n\nconst createTodo = (newTodo) => {\n   let id = uuidv4();\n   if (newTodo.length > 0) {\n      // andrew just starts with todos.push and no if\n      todos.push({\n         id: id,\n         text: newTodo,\n         completed: false,\n      });\n      saveTodos();\n   }\n   return id;\n};\n\n\nconst removeTodo = (id) => {\n   const index = todos.findIndex((todo) => todo.id === id);\n   //  if (index > -1) {\n   //     //if statement not really necessary// button created with todo with id so id must exist\n   todos.splice(index, 1);\n   saveTodos();\n};\n\n\n// toggle completed property\nconst toggleTodo = (id) => {\n   const selectedTodo = todos.filter((todo) => todo.id === id)[0];\n   selectedTodo.completed = !selectedTodo.completed;\n   saveTodos();\n};\n\n\nexport { loadTodos, saveTodos, getTodos, createTodo, removeTodo, toggleTodo };\n","// Set up filters default object\nconst filters = {\n   searchText: \"\",\n   hideCompleted: false,\n};\n\nconst getFilters = () => filters;\n\nconst setFilters = (updates) => {\n   if (typeof updates.searchText === \"string\") {\n      filters.searchText = updates.searchText;\n   }\n   if (typeof updates.hideCompleted === \"boolean\") {\n      filters.hideCompleted = updates.hideCompleted;\n   }\n};\n\n\nexport { getFilters, setFilters }\n","import { getFilters } from \"./filters\";\nimport { getTodos, toggleTodo, removeTodo } from \"./todos\";\n\nconst rendertodos = () => {\n    const todos = getTodos()\n    const filtersObj = getFilters()\n    let filteredTodos = todos.filter((todo) =>\n       todo.text.toLowerCase().includes(filtersObj.searchText.toLowerCase())\n    );\n \n    filteredTodos = filteredTodos.filter(\n       (todo) => !filtersObj.hideCompleted || !todo.completed\n    );\n \n    const incompleteTodos = filteredTodos.filter((todo) => !todo.completed);\n    const divWithIdTodos = document.querySelector(\"#todos\"); // because we locate this div four times in this function\n \n    divWithIdTodos.innerHTML = \"\"; //clear todos\n    divWithIdTodos.appendChild(generateSummaryDOM(incompleteTodos));\n \n    if(filteredTodos.length > 0){\n       filteredTodos.forEach((todo) => {\n          divWithIdTodos.appendChild(generateTodoDOM(todo));\n       });\n    } else {\n       const emptyMessage = document.createElement(\"p\")\n       emptyMessage.classList.add(\"empty-message\")\n       emptyMessage.textContent = \"No to-dos to show\"\n       divWithIdTodos.appendChild(emptyMessage)\n    }\n };\n\n\nconst generateTodoDOM = (todo) => {\n    const rootDiv = document.createElement(\"label\");\n    const containerEl = document.createElement(\"div\")\n    const checkbox = document.createElement(\"input\");\n    const button = document.createElement(\"button\");\n    const todoEl = document.createElement(\"span\");\n \n    //set up todo checkbox\n    checkbox.setAttribute(\"type\", \"checkbox\");\n    checkbox.checked = todo.completed;\n    containerEl.appendChild(checkbox);\n    checkbox.addEventListener(\"change\", () => {\n       toggleTodo(todo.id) //toggle checkbox (save() is in function)\n       rendertodos();      //then rerender\n    });\n \n    //set up todo text\n    todoEl.textContent = todo.text;\n    containerEl.appendChild(todoEl)\n \n    //container\n    rootDiv.classList.add(\"list-item\")\n    containerEl.classList.add(\"list-item__container\")\n    rootDiv.appendChild(containerEl)\n    \n    //set up remove button\n    button.textContent = \"remove\";\n    button.classList.add(\"button\", \"button--secondary\")\n    rootDiv.appendChild(button);\n \n    button.addEventListener(\"click\", () => {\n       removeTodo(todo.id);\n       rendertodos();\n    });\n    \n    return rootDiv;\n };\n \n\n//Todos left message\nconst generateSummaryDOM = (incompleteTodos) => {\n    const todoMessage = document.createElement(\"h2\");\n    todoMessage.classList.add(\"list-title\")\n    const things = incompleteTodos.length === 1 ? \"thing\" : \"things\" \n    todoMessage.textContent = `You have ${incompleteTodos.length} ${things} left to do`;\n    \n    return todoMessage;\n };\n \n\nexport { rendertodos, generateSummaryDOM}","import { createTodo } from \"./todos\";\nimport { getFilters, setFilters } from \"./filters\";\nimport { rendertodos } from \"./views\";\n\n\n\n//render initial todos\nrendertodos()\n\n\nconst filters = getFilters()\n\n\n//event listener for filter todos by text\ndocument.querySelector(\"#filter-todos\").addEventListener(\"input\", (e) => {\n    setFilters({\n        searchText: e.target.value\n    })\n    rendertodos();\n });\n\n\n//event listener for hide completed todos\ndocument.querySelector(\"#hide-completed\").addEventListener(\"change\", (e) => {\n    setFilters({ hideCompleted: e.target.checked })\n    rendertodos();\n });\n \n\n//set up form submission handler\n document.querySelector(\"#add-todo\").addEventListener(\"submit\", (e) => {\n    e.preventDefault();\n    let newTodo = e.target.elements.newTodo.value.trim()\n    // createTodo(newTodo)\n    createTodo(newTodo)\n    e.target.elements.newTodo.value = \"\";\n    rendertodos();\n});\n   \n \n\n\n \n\n\n\n\n\n\n\n\n// Bonus: Add a watcher for local storage"],"names":["todos","saveTodos","localStorage","setItem","JSON","stringify","todosJson","getItem","parse","e","loadTodos","getTodos","filters","searchText","hideCompleted","getFilters","setFilters","updates","rendertodos","filtersObj","filteredTodos","filter","todo","text","toLowerCase","includes","incompleteTodos","completed","divWithIdTodos","document","querySelector","innerHTML","appendChild","generateSummaryDOM","length","forEach","generateTodoDOM","emptyMessage","createElement","classList","add","textContent","rootDiv","containerEl","checkbox","button","todoEl","setAttribute","checked","addEventListener","id","selectedTodo","index","findIndex","splice","todoMessage","things","target","value","newTodo","preventDefault","elements","trim","uuidv4","push"],"sourceRoot":""}